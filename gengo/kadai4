#include<stdio.h>
#include<stdlib.h>
#include<time.h>

int main(){
    FILE *file;
    int i, j, count=0, moziretu, max=100;
    char str, tmp;

    srand((unsigned int)time(NULL));

    file = fopen("newfile.txt", "r");

    if(file == NULL){
        printf("ファイルを開けません。\n");
        return -1;
    }  
    i=0;

    while((str = fgetc(file)) != EOF){
        i++;
    }
    count = i;
    printf("文字数 = %d\n", count);

/*文字をランダムに作る------------------------------------*/
    for(i = 0; i < max; i++){
        rewind(file);
        moziretu = rand() % count;
            while((str = fgetc(file)) != EOF){
                if(j == moziretu){
                    printf("%c", str);
                }   
                j++;
            }   
            j=0;
    } 

    printf("\n");
    fclose(file);
    return 0;
} 
